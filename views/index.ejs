<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/main.css">
    <title>Currency conversion</title>
</head>
<body>
    <div class="container">
        <div class="title">
            <h1>Currency Conversion Place</h1>
        </div>
        <% if (!success) { %>
            <div class="alert alert-danger d-flex align-items-center alert-dismissible fade show" role="alert">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill me-2" viewBox="0 0 16 16">
                    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                </svg>
                Please fill all the fields!
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        <% } %>
        <form action="/submit" method="POST">
            <!-- First side -->
            <div class="first-side row">
                <div class="col-auto">
                    <label for="amount">Amount:</label>
                    <% if (amount != 0) { %>
                        <input type="number" step="any" class="form-control fixed-width" id="amount" name="amount" value="<%= amount %>">
                    <% } else { %>
                        <input type="number" step="any" class="form-control fixed-width" id="amount" name="amount">
                    <% } %>
                </div>
                <div class="col-auto">
                    <label for="currency-1" class="form-label" style="margin: 0;">Currency:</label>
                    <select name="chosen-currency" id="currency-1" class="form-select fixed-width">
                        <option value="" class="">Choose Currency</option>
                        <% currency_list.forEach(e => { %>
                            <% if (e.code == chosen_currency) { %>
                                <option value="<%= e.code %>" class="<%= e.country %>" selected><%= e.name %></option>
                            <% } else { %>
                                <option value="<%= e.code %>" class="<%= e.country %>"><%= e.name %></option>
                            <% } %>
                        <% }); %>
                    </select>
                </div>
                <div class="col-auto">
                    <label for="code-1">Code:</label>
                    <input class="form-control fixed-width" id="code-1" value="" disabled>
                </div>
                <div class="col-auto">
                    <label for="country-1">Country:</label>
                    <input class="form-control fixed-width" id="country-1" value="" disabled>
                </div>
            </div>
            <div class="center-side">
                <!-- <h1>exchange to:</h1> -->
                
                <div class="submit-side d-grid">
                    <button type="submit" class="btn btn-success">Exchange</button>
                </div>
                
            </div>
            <div class="second-side row">
                <div class="col-auto">
                    <label for="result">Result:</label>
                    <% if (result != 0) { %>
                        <input type="number" class="form-control fixed-width" id="result" value="<%= result %>" disabled>
                    <% } else { %>
                        <input type="number" class="form-control fixed-width" id="result" disabled>
                    <% } %>
                </div>
                <div class="col-auto">
                    <label for="currency-2" class="form-label" style="margin: 0;">Currency:</label>
                    <select name="exchanged-currency" id="currency-2" class="form-select fixed-width">
                        <option value="" class="">Choose Currency</option>
                        <% currency_list.forEach(e => { %>
                            <% if (e.code == exchanged_currency) { %>
                                <option value="<%= e.code %>" class="<%= e.country %>" selected><%= e.name %></option>
                            <% } else { %>
                                <option value="<%= e.code %>" class="<%= e.country %>"><%= e.name %></option>
                            <% } %>
                        <% }); %>
                    </select>
                </div>
                <div class="col-auto">
                    <label for="code-2">Code:</label>
                    <input class="form-control fixed-width" id="code-2" value="" disabled>
                </div>
                <div class="col-auto">
                    <label for="country-2">Country:</label>
                    <input class="form-control fixed-width" id="country-2" value="" disabled>
                </div>
            </div>
            <!-- <div class="submit-side d-grid">
                <button type="submit" class="btn btn-success">Submit</button>
            </div> -->
            
        </form>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="/js/script.js"></script>
    
</body>
</html>